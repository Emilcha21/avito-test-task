# Avito Test Task

## Технологический стек
- **Язык программирования**: Go
- **База данных**: PostgreSQL  
- **ORM**: GORM
- **Веб-фреймворк**: Gin
- **Управление конфигурацией**: Viper
- **Документирование API**: Swaggo
- **Статический анализ**: Golangci-lint

## Запуск проекта

### Предварительные требования
- Установленный Docker и Docker Compose
- Скопированный файл окружения: `cp env.example .env`

### Запуск
```bash
docker-compose up
```

После запуска:
- Сервер доступен на порту 8080
- База данных автоматически инициализируется с миграциями
- Swagger документация доступна по адресу: `http://localhost:8080/swagger/index.html`

### Аутентификация
Для доступа к защищенным endpoint'ам используйте заголовок:
```
Authorization: Bearer your_secret_token_here
```

## Статический анализ кода

### Запуск линтера
```bash
golangci-lint run
```

*Для использования требуется заранее установленный пакет golangci-lint*

### Конфигурация линтера

**Безопасность и надежность**
- `gosec` - обнаружение уязвимостей безопасности
- `govet` - поиск подозрительных конструкций кода
- `staticcheck` - комплексный анализ багов и антипаттернов

**Обработка ошибок**
- `errcheck` - контроль обработки возвращаемых ошибок
- `err113` - правильное сравнение ошибок через errors.Is
- `errname` - соблюдение конвенций именования ошибок

**Качество кода**
- `gocyclo/cyclop` - контроль цикломатической сложности функций
- `lll` - ограничение длины строк
- `funcorder` - соблюдение порядка объявления методов

**Производительность**
- `sqlclosecheck` - проверка закрытия SQL-ресурсов
- `intrange` - оптимизация циклов через range
- `copyloopvar` - устранение избыточных копирований в циклах

**Предотвращение ошибок**
- `forcetypeassert` - безопасное приведение типов
- `mnd` - поиск "магических чисел"
- `nestif` - контроль глубины вложенности условий

**Дополнительные проверки**
- `asciicheck` - проверка на не-ASCII символы в идентификаторах
- `misspell` - поиск орфографических ошибок
- `godox` - отслеживание TODO-комментариев
- `loggercheck` - консистентность структурированного логирования